<f:subview xmlns:f="http://java.sun.com/jsf/core"
           xmlns:h="http://java.sun.com/jsf/html"
           xmlns:a4j="http://richfaces.org/a4j"
           xmlns:nxu="http://nuxeo.org/nxweb/util"
           xmlns:nxdir="http://nuxeo.org/nxdirectory"
           xmlns:c="http://java.sun.com/jstl/core"
           xmlns:nxp="http://nuxeo.org/nxweb/pdf"
           id="#{widget.id}">

<link rel="stylesheet" type="text/css" href="#{contextPath}/css/color_picker.css"/>
<script src="#{contextPath}/scripts/color_picker.js" />
<c:if test="#{widget.mode == 'edit'}">
    <div>
        <img id="color_palette" src="img/palette.png" width="100%"/>
        <div id="selected_colors" class="selected_colors"></div>
        <div id="color_input" class="hidden">
            <h:inputText value="#{fieldOrValue}">
                <f:converter converterId="select2Converter" />
            </h:inputText>
        </div>
    </div>
    <script type="text/javascript" charset="utf-8">
    jQuery(document).ready(function () {
     init_color_picker();
    });
    </script>
</c:if>
</f:subview>